<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div>
        <ul>
            <li><a href="wHome.html">Home</a></li>
            <li><a href="#" onclick="loadComplaints('unsolved')">Unsolved Complaints</a></li>
            <li><a href="#" onclick="loadComplaints('in_progress')">In-progress Complaints</a></li>
            <li><a href="#" onclick="loadComplaints('solved')">Solved Complaints</a></li>
	    <li><a href="index.html">Logout</a></li>
        </ul>
    </div>
    <div id="complaintsTable" style="margin-left:20%;padding:1px 16px;height:1000px;"></div>

    <script>
        function loadComplaints(status) {
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById("complaintsTable").innerHTML = this.responseText;
                }
            };
            xmlhttp.open("GET", "dataRetrieval.jsp?status=" + status, true);
            xmlhttp.send();
        }

        function updateStatus(status, complaintId) {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    console.log("Status updated successfully");
                }
            };
            xhttp.open("GET", "updateStatus.jsp?status=" + status + "&id=" + complaintId, true);
            xhttp.send();
        }
    </script>
</body>
</html>
